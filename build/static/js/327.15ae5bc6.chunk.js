"use strict";(self.webpackChunkdskill=self.webpackChunkdskill||[]).push([[327],{16327:function(e,t,n){n.r(t),n.d(t,{default:function(){return N}});var a=n(70885),r=n(47313),s=n(42982),l=n(15861),o=n(87757),i=n.n(o),c=n(65755),d=n(83481),u=n(64417),x=n(1413),h=n(4490),m=n(13843),f=n(46417),p=function(e){var t=e.skid,n=(0,r.useContext)(d.x),o=n.state,u=n.setState,p=(0,c.UO)().id,b=(0,r.useState)([]),v=(0,a.Z)(b,2),j=v[0],g=v[1],k=(0,r.useState)(!1),y=(0,a.Z)(k,2),w=y[0],N=y[1],C=(0,r.useState)(""),Z=(0,a.Z)(C,2),S=Z[0],E=Z[1],_=(0,r.useCallback)((0,l.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.contract.methods.endrs_of_skill(t).call();case 2:e.sent.forEach(function(){var e=(0,l.Z)(i().mark((function e(n){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j.some((function(e){return e.id===parseInt(n)}))){e.next=18;break}return e.next=3,o.contract.methods.endorsments(n).call();case 3:return a=e.sent,e.t0=g,e.t1=[],e.t2=(0,s.Z)(j),e.t3=parseInt(n),e.next=10,o.contract.methods.employees(a.endorser_id).call();case 10:e.t4=e.sent.name,e.t5=a.date,e.t6=t,e.t7=a.comment,e.t8={id:e.t3,endorser:e.t4,date:e.t5,skid:e.t6,content:e.t7},e.t9=[e.t8],e.t10=e.t1.concat.call(e.t1,e.t2,e.t9),(0,e.t0)(e.t10);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)}))),[j,t,o.contract]);(0,r.useEffect)((function(){g((function(e){return e.filter((function(e){return e.skid===t}))}))}),[t]);var A=(0,r.useCallback)((0,l.Z)(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Date,e.prev=1,u((function(e){return(0,x.Z)((0,x.Z)({},e),{},{loading:!0})})),e.next=5,o.contract.methods.endorse_skill(p,t,"".concat(n.getMonth()," ").concat(n.getFullYear()),S).send({from:o.account});case 5:_(),E(""),N(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0);case 13:u((function(e){return(0,x.Z)((0,x.Z)({},e),{},{loading:!0})}));case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),[o.contract,p,_,t,u,S,o.account]);return(0,r.useEffect)((function(){_()}),[_]),(0,f.jsxs)("div",{children:[j.length?j.map((function(e){return(0,f.jsxs)("div",{className:"p-6 m-2 flex flex-row justify-between items-center bg-gray-200 border-solid rounded-lg ",children:[(0,f.jsx)("div",{children:(0,f.jsx)("p",{children:(0,f.jsxs)("h1",{className:"font-medium text-lg text-blue-700 inline",children:[(0,f.jsx)("h1",{children:e.endorser}),(0,f.jsx)("h1",{children:e.date})]})})}),(0,f.jsx)("div",{children:(0,f.jsx)("h1",{children:e.content})})]})})):(0,f.jsx)("div",{children:"no comments yet"}),(0,f.jsx)("div",{children:(0,f.jsx)("button",{className:"bg-red-800 text-white active:bg-red-800 font-bold uppercase text-sm mx-6 px-8 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:function(){N(!0)},children:"Add Comment"})}),(0,f.jsx)(h.u,{appear:!0,show:w,as:r.Fragment,children:(0,f.jsx)(m.V,{as:"div",className:"fixed inset-0 z-10 overflow-y-auto",onClose:function(){N(!1)},children:(0,f.jsxs)("div",{className:"min-h-screen px-4 text-center",children:[(0,f.jsx)(h.u.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,f.jsx)(m.V.Overlay,{className:"fixed inset-0"})}),(0,f.jsx)("span",{className:"inline-block h-screen align-middle","aria-hidden":"true",children:"\u200b"}),(0,f.jsx)(h.u.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,f.jsxs)("div",{className:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl",children:[(0,f.jsx)(m.V.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:"Add Comment"}),(0,f.jsx)("div",{className:"mt-2",children:(0,f.jsx)("textarea",{className:"w-full p-2",value:S,onChange:function(e){return E(e.target.value)}})}),(0,f.jsx)("div",{className:"mt-4",children:(0,f.jsx)("button",{type:"button",className:"bg-red-800 text-white active:bg-red-800 font-bold uppercase text-sm mx-6 px-8 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",onClick:function(){A()},children:"add"})})]})})]})})})]})};var b=function(){var e=(0,r.useState)(!1),t=(0,a.Z)(e,2),n=t[0],o=t[1],x=(0,r.useState)(!1),h=(0,a.Z)(x,2),m=h[0],b=h[1],v=(0,r.useState)(),j=(0,a.Z)(v,2),g=j[0],k=j[1],y=(0,r.useState)(!1),w=(0,a.Z)(y,2),N=w[0],C=w[1],Z=(0,c.UO)().id,S=(0,r.useContext)(d.x).state,E=(0,r.useState)(-1),_=(0,a.Z)(E,2),A=_[0],I=_[1],D=(0,r.useState)([]),z=(0,a.Z)(D,2),Y=z[0],G=z[1],F=(0,r.useState)(""),O=(0,a.Z)(F,2),T=O[0],J=O[1],U=(0,r.useCallback)((0,l.Z)(i().mark((function e(){var t,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.contract.methods.skills_of_user(Z).call();case 2:if(t=e.sent,n=[],t.forEach(function(){var e=(0,l.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Y.some((function(e){return e.id===parseInt(t)}))||n.push(S.contract.methods.skills(t).call());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),!(n.length>0)){e.next=10;break}return e.next=8,Promise.all(n);case 8:a=e.sent.map((function(e){return{id:parseInt(e.id),name:e.name,verified:e.verified}})),G((function(e){return[].concat((0,s.Z)(e),(0,s.Z)(a))}));case 10:case"end":return e.stop()}}),e)}))),[Z,Y,S.contract]),V=(0,r.useCallback)((0,l.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Y.some((function(e){return e.name===g.name}))){e.next=4;break}alert("Already a skill, Please add some different skill name"),e.next=15;break;case 4:return k(""),o(!1),e.prev=6,e.next=9,S.contract.methods.add_skill(S.accountId,g).send({from:S.account});case 9:U(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[6,12]])}))),[S,Y,g,U]);(0,r.useEffect)((function(){S.connected||J("authenticated"),U()}),[U]);var L=(0,r.useCallback)((function(){return-1===A?(0,f.jsx)("h1",{children:"No option selcted"}):(0,f.jsx)(p,{skid:A})}),[A]);function P(e){console.log("Captcha value: "+e),C(!0)}function q(){N?(b(!1),C(!1)):alert("Please check the captcha")}return(0,f.jsxs)("div",{className:"flex mx-auto p-0  h-full",children:[(0,f.jsxs)("sidebar",{className:" w-1/4 bg-gray-800 mx-0 sm:px-6 lg:px-8  float-left text-gray-300",children:[Y.map((function(e,t){return(0,f.jsxs)("div",{className:"m-2 p-2 flex flex-row text-l justify-around hover:bg-gray-300 hover:text-gray-800 w-full",onClick:function(t){I(e.id)},children:[e.name,e.id===A?(0,f.jsx)("button",{className:" text-l hover:bg-gray-400",onClick:function(){b(!0)},children:"\xd7"}):(0,f.jsx)("div",{}),m?(0,f.jsxs)("div",{children:[" ",(0,f.jsx)("div",{className:"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none",children:(0,f.jsx)("div",{className:"relative w-auto my-6 mx-auto max-w-3xl",children:(0,f.jsxs)("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[(0,f.jsxs)("div",{className:"flex items-start justify-between p-5 border-b border-solid border-blueGray-200 rounded-t",children:[(0,f.jsxs)("h5",{className:"text-3xl font-semibold text-black",children:["Are u sure, you wanna delete"," ",Y[A-1].name,"?"]}),(0,f.jsx)("button",{className:"p-1 ml-auto bg-transparent border-0 text-black opacity-5 float-right text-3xl leading-none font-semibold outline-none focus:outline-none",onClick:function(){return o(!1)},children:(0,f.jsx)("span",{className:"bg-transparent text-black opacity-5 h-6 w-6 text-2xl block outline-none focus:outline-none",children:"\xd7"})})]}),(0,f.jsx)("div",{className:"relative p-6 flex-auto",children:(0,f.jsxs)("p",{className:"my-4 text-black text-lg leading-relaxed",children:[(0,f.jsx)("h1",{children:"Capcha"}),(0,f.jsx)(u.Z,{sitekey:"6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI",onChange:P})]})}),(0,f.jsxs)("div",{className:"flex items-center justify-end p-6 border-t border-solid border-blueGray-200 rounded-b",children:[(0,f.jsx)("button",{className:"text-red-500 background-transparent font-bold uppercase px-6 py-2 text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:function(){return b(!1)},children:"Close"}),(0,f.jsx)("button",{className:"bg-emerald-500 text-black active:bg-emerald-600 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:q,children:"Yes"})]})]})})}),(0,f.jsx)("div",{className:"opacity-25 fixed inset-0 z-40 bg-black"})]}):(0,f.jsx)("div",{})]},t)})),(0,f.jsx)("div",{className:T,children:(0,f.jsx)("button",{className:"bg-red-800 text-white active:bg-red-800 font-bold uppercase text-sm mx-6 px-8 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:function(){return o(!0)},children:"Add Skill"})}),n?(0,f.jsxs)("div",{children:[" ",(0,f.jsx)("div",{className:"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none",children:(0,f.jsx)("div",{className:"relative w-auto my-6 mx-auto max-w-3xl",children:(0,f.jsxs)("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[(0,f.jsxs)("div",{className:"flex items-start justify-between p-5 border-b border-solid border-blueGray-200 rounded-t",children:[(0,f.jsx)("h3",{className:"text-3xl font-semibold text-black",children:"Add New Skill"}),(0,f.jsx)("button",{className:"p-1 ml-auto bg-transparent border-0 text-black opacity-5 float-right text-3xl leading-none font-semibold outline-none focus:outline-none",onClick:function(){return o(!1)},children:(0,f.jsx)("span",{className:"bg-transparent text-black opacity-5 h-6 w-6 text-2xl block outline-none focus:outline-none",children:"\xd7"})})]}),(0,f.jsx)("div",{className:"relative p-6 flex-auto",children:(0,f.jsxs)("p",{className:"my-4 text-black text-lg leading-relaxed",children:[(0,f.jsx)("h1",{children:"Name Skill"}),(0,f.jsx)("label",{children:"Enter Skill:"}),(0,f.jsx)("input",{placeholder:"Eg:JavaScript",className:"border-solid border-black px-2",value:g,onChange:function(e){k(e.target.value)}})]})}),(0,f.jsxs)("div",{className:"flex items-center justify-end p-6 border-t border-solid border-blueGray-200 rounded-b",children:[(0,f.jsx)("button",{className:"text-red-500 background-transparent font-bold uppercase px-6 py-2 text-sm rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:function(){return o(!1)},children:"Close"}),(0,f.jsx)("button",{className:"bg-emerald-500 text-black active:bg-emerald-600 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:V,children:"Add"})]})]})})}),(0,f.jsx)("div",{className:"opacity-25 fixed inset-0 z-40 bg-black"})]}):(0,f.jsx)("div",{})]}),(0,f.jsx)("main",{className:"w-3/4 px-0 sm:py-6 sm:px-0 inline-block float-right mt-0",children:L()})]})};var v=function(){var e=(0,r.useContext)(d.x),t=e.state,n=e.setState,o=(0,r.useState)(-1),u=(0,a.Z)(o,2),h=u[0],m=u[1],p=(0,r.useState)(!1),b=(0,a.Z)(p,2),v=b[0],j=b[1],g=(0,r.useState)(""),k=(0,a.Z)(g,2),y=k[0],w=k[1],N=(0,r.useState)(""),C=(0,a.Z)(N,2),Z=C[0],S=C[1],E=(0,r.useState)(""),_=(0,a.Z)(E,2),A=_[0],I=_[1],D=(0,r.useState)(""),z=(0,a.Z)(D,2),Y=z[0],G=z[1],F=(0,c.UO)().id,O=(0,r.useState)(""),T=(0,a.Z)(O,2),J=T[0],U=T[1],V=(0,r.useState)([]),L=(0,a.Z)(V,2),P=L[0],q=L[1],M=(0,r.useCallback)((0,l.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.contract.methods.exp_of_user(F).call();case 2:e.sent.forEach(function(){var e=(0,l.Z)(i().mark((function e(n){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P.some(function(){var e=(0,l.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.id===parseInt(n));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())){e.next=20;break}return e.next=3,t.contract.methods.experiences(n).call();case 3:return a=e.sent,e.t0=q,e.t1=[],e.t2=(0,s.Z)(P),e.t3=parseInt(n),e.next=10,t.contract.methods.companies(n).call();case 10:e.t4=e.sent.name,e.t5=a.current,e.t6=a.starting_date,e.t7=a.ending_date,e.t8=a.role,e.t9=a.is_approved,e.t10={id:e.t3,name:e.t4,current:e.t5,startDate:e.t6,endDate:e.t7,role:e.t8,approved:e.t9},e.t11=[e.t10],e.t12=e.t1.concat.call(e.t1,e.t2,e.t11),(0,e.t0)(e.t12);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)}))),[F,P,t.contract]),W=(0,r.useCallback)((0,l.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n((function(e){return(0,x.Z)((0,x.Z)({},e),{},{loading:!0})})),!P.some((function(e){return e.company_id===Y}))){e.next=5;break}alert("already exists"),e.next=19;break;case 5:return e.prev=5,e.next=8,t.contract.methods.add_experience(t.accountId,y,Z,A,Y).send({from:t.account});case 8:w(""),S(""),I(""),G(""),j(!1),M(),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),console.error(e.t0);case 19:n((function(e){return(0,x.Z)((0,x.Z)({},e),{},{loading:!0})}));case 20:case"end":return e.stop()}}),e,null,[[5,16]])}))),[t.contract,t.account,t.accountId,P,M,Y,A,Z,y,n]);(0,r.useEffect)((function(){t.connected||U("authenticated"),M()}),[M]);var R=function(e){return(0,f.jsxs)("div",{children:[(0,f.jsx)("h1",{children:P[e].name}),(0,f.jsxs)("h2",{children:["Start Date: ",P[e].startDate,", End Date: ",P[e].endDate]}),(0,f.jsx)("h2",{children:P[e].role})]})};return(0,f.jsxs)("div",{className:"flex mx-auto p-0  h-full",children:[(0,f.jsxs)("sidebar",{className:" w-1/4 bg-gray-800 mx-0 sm:px-6 lg:px-8  float-left text-gray-300",children:[P.map((function(e,t){return(0,f.jsx)("div",{className:"m-2 p-2 text-l hover:bg-gray-300 hover:text-gray-800 w-full",onClick:function(t){m(e.id)},children:e.name},t)})),(0,f.jsx)("div",{className:J,children:(0,f.jsx)("button",{className:"bg-red-800 text-white active:bg-red-800 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:function(){return j(!0)},children:"Add Experiance"})}),v?(0,f.jsxs)("div",{children:[" ",(0,f.jsx)("div",{className:"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none",children:(0,f.jsx)("div",{className:"relative w-auto my-6 mx-auto max-w-3xl",children:(0,f.jsxs)("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[(0,f.jsxs)("div",{className:"flex items-start justify-between p-5 border-b border-solid border-blueGray-200 rounded-t",children:[(0,f.jsx)("h3",{className:"text-3xl font-semibold text-black",children:"Add New Work Experiance"}),(0,f.jsx)("button",{className:"p-1 ml-auto bg-transparent border-0 text-black opacity-5 float-right text-3xl leading-none font-semibold outline-none focus:outline-none",onClick:function(){return j(!1)},children:(0,f.jsx)("span",{className:"bg-transparent text-black opacity-5 h-6 w-6 text-2xl block outline-none focus:outline-none",children:"\xd7"})})]}),(0,f.jsx)("div",{className:"relative p-6 flex-auto my-4 text-black text-lg leading-relaxed",children:(0,f.jsxs)("form",{children:[(0,f.jsx)("label",{children:"Company id:"}),(0,f.jsx)("input",{placeholder:"Eg:JavaScript",className:"border-solid border-black px-2",value:Y,onChange:function(e){G(e.target.value)}}),(0,f.jsx)("br",{}),(0,f.jsx)("label",{children:"Start Date:"}),(0,f.jsx)("input",{placeholder:"Eg:JavaScript",className:"border-solid border-black px-2",value:y,onChange:function(e){w(e.target.value)}}),(0,f.jsx)("label",{children:"End Date:"}),(0,f.jsx)("input",{placeholder:"Eg:JavaScript",className:"border-solid border-black px-2",value:Z,onChange:function(e){S(e.target.value)}}),(0,f.jsx)("br",{}),(0,f.jsx)("label",{children:"Role:"}),(0,f.jsx)("input",{placeholder:"Eg:JavaScript",className:"border-solid border-black px-2",value:A,onChange:function(e){I(e.target.value)}}),(0,f.jsx)("br",{})]})}),(0,f.jsxs)("div",{className:"flex items-center justify-end p-6 border-t border-solid border-blueGray-200 rounded-b",children:[(0,f.jsx)("button",{className:"text-red-500 background-transparent font-bold uppercase px-6 py-2 text-sm rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:function(){return j(!1)},children:"Close"}),(0,f.jsx)("button",{className:"bg-emerald-500 text-black active:bg-emerald-600 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:W,children:"Add"})]})]})})}),(0,f.jsx)("div",{className:"opacity-25 fixed inset-0 z-40 bg-black"})]}):(0,f.jsx)("div",{})]}),(0,f.jsx)("main",{className:"w-3/4 px-0 sm:py-6 sm:px-0 inline-block float-right mt-0",children:-1===h?(0,f.jsx)("h1",{children:"No option selcted"}):R(h)})]})},j=n(3254),g=n.n(j);n(63730);function k(){var e=(0,r.useState)(0),t=(0,a.Z)(e,2),n=t[0],o=t[1],u=(0,c.UO)().id,x=(0,r.useState)(!1),h=(0,a.Z)(x,2),m=h[0],p=h[1],b=(0,r.useState)([{id:null,name:" ",issueDate:new Date,validity:null,issuer:" ",link:""}]),v=(0,a.Z)(b,2),j=v[0],k=v[1],y=(0,r.useContext)(d.x).state,w=(0,r.useState)(""),N=(0,a.Z)(w,2),C=N[0],Z=N[1],S=(0,r.useState)(""),E=(0,a.Z)(S,2),_=E[0],A=E[1],I=(0,r.useState)(),D=(0,a.Z)(I,2),z=D[0],Y=D[1],G=(0,r.useState)(new Date),F=(0,a.Z)(G,2),O=F[0],T=F[1],J=(0,r.useState)(""),U=(0,a.Z)(J,2),V=U[0],L=U[1],P=(0,r.useState)(""),q=(0,a.Z)(P,2),M=q[0],W=q[1],R=(0,r.useCallback)((0,l.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.contract.methods.skills_of_user(u).call();case 3:e.sent.forEach(function(){var e=(0,l.Z)(i().mark((function e(t){var n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,y.contract.methods.cert_of_skill(t).call();case 3:if(e.sent.forEach(function(){var e=(0,l.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j.some((function(e){return e.id===parseInt(t)}))||n.push(y.contract.methods.certifications(t).call());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),!(n.length>0)){e.next=10;break}return e.next=8,Promise.all(n);case 8:a=e.sent.map((function(e){return{id:parseInt(e.id),issueDate:e.issue_date,validity:e.valid_till,name:e.name,link:e.url,issuer:e.issuer}})),k([].concat((0,s.Z)(j),(0,s.Z)(a)));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("fetch error"),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),[j,u,y.contract]),H=(0,r.useCallback)((0,l.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j.some((function(e){return e.name===C}))){e.next=4;break}alert("already exists"),e.next=27;break;case 4:return e.prev=4,Z(""),T(""),Y(),A(""),L(""),p(!1),e.next=13,y.contract.methods.skills_of_user(u).call();case 13:if(t=e.sent,console.log(t),!(t.length>0)){e.next=21;break}return e.next=18,y.contract.methods.add_certification(y.accountId,V,O,z,C,_,t[0]).send({from:y.account});case 18:R(),e.next=22;break;case 21:throw new Error("no skill to link to");case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(4),console.error(e.t0);case 27:case"end":return e.stop()}}),e,null,[[4,24]])}))),[j,y,R,u,O,_,V,z,C]);(0,r.useEffect)((function(){y.connected||W("authenticated"),R()}),[R]);var K=function(e){return(0,f.jsxs)("div",{children:[(0,f.jsx)("h1",{children:j[e].name}),(0,f.jsxs)("h2",{children:["Validity: ",j[e].validity]}),(0,f.jsx)("h2",{children:j[e].issuer}),(0,f.jsx)("h2",{children:j[e].link})]})};return(0,f.jsxs)("div",{className:"flex mx-auto p-0  h-full",children:[(0,f.jsxs)("sidebar",{className:" w-1/4 bg-gray-800 mx-0 sm:px-6 lg:px-8  float-left text-gray-300",children:[j.map((function(e,t){return(0,f.jsx)("div",{className:"m-2 p-2 text-l hover:bg-gray-300 hover:text-gray-800 w-full",onClick:function(t){o(e.id)},children:e.name},t)})),(0,f.jsx)("div",{className:M,children:(0,f.jsx)("button",{className:"bg-red-800 text-white active:bg-red-800 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:function(){return p(!0)},children:"Add Certificate"})}),m?(0,f.jsxs)("div",{children:[" ",(0,f.jsx)("div",{className:"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none",children:(0,f.jsx)("div",{className:"relative w-auto my-6 mx-auto max-w-3xl",children:(0,f.jsxs)("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[(0,f.jsxs)("div",{className:"flex items-start justify-between p-5 border-b border-solid border-blueGray-200 rounded-t",children:[(0,f.jsx)("h4",{className:"text-3xl font-semibold text-black text-center",children:"Add New Certificate"}),(0,f.jsx)("button",{className:"p-1 ml-auto bg-transparent border-0 text-black opacity-5 float-right text-3xl leading-none font-semibold outline-none focus:outline-none",onClick:function(){return p(!1)},children:(0,f.jsx)("span",{className:"bg-transparent text-black opacity-5 h-6 w-6 text-2xl block outline-none focus:outline-none",children:"\xd7"})})]}),(0,f.jsx)("div",{className:"relative p-6 flex-auto my-4 text-black text-lg leading-relaxed",children:(0,f.jsxs)("form",{className:"mx-auto",children:[(0,f.jsx)("label",{children:"Certificate Name: "}),(0,f.jsx)("input",{placeholder:"Eg:Web dev bootcamp",className:"border-solid border-black px-2",type:"text",required:!0,value:C,onChange:function(e){Z(e.target.value)}}),(0,f.jsx)("br",{}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{children:"Issue Date: "}),(0,f.jsx)(g(),{selected:O,onChange:function(e){return T(e)}})]}),(0,f.jsx)("br",{}),(0,f.jsx)("label",{children:"Issuer: "}),(0,f.jsxs)("select",{value:_,onChange:function(e){A(e.target.value)},children:[(0,f.jsx)("option",{value:"udemy",children:"Udemy"}),(0,f.jsx)("option",{value:"Coursera",children:"Coursera"}),(0,f.jsx)("option",{selected:!0,value:"",children:"NPTEL"}),(0,f.jsx)("option",{value:"Others",children:"Others"})]}),(0,f.jsx)("br",{}),(0,f.jsx)("label",{children:"Validity:"}),(0,f.jsxs)("select",{value:z,onChange:function(e){Y(e.target.value)},children:[(0,f.jsx)("option",{value:"Less then 3 Years",children:"Less then 3 Years"}),(0,f.jsx)("option",{value:"3 - 5 Years",children:"3 - 5 Years"}),(0,f.jsx)("option",{selected:!0,value:"5 - 10 Years",children:"5 - 10 Years"}),(0,f.jsx)("option",{value:"10+ Years",children:"10+ Years"})]}),(0,f.jsx)("br",{}),(0,f.jsx)("label",{children:"Link:"}),(0,f.jsx)("input",{placeholder:"Eg:udemy.com/hardikag17/webdbootcamp007",required:!0,className:"border-solid border-black px-2",value:V,onChange:function(e){L(e.target.value)}}),(0,f.jsx)("br",{})]})}),(0,f.jsxs)("div",{className:"flex items-center justify-end p-6 border-t border-solid border-blueGray-200 rounded-b",children:[(0,f.jsx)("button",{className:"text-red-500 background-transparent font-bold uppercase px-6 py-2 text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:function(){return p(!1)},children:"Close"}),(0,f.jsx)("button",{className:"bg-emerald-500 text-black active:bg-emerald-600 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:H,children:"Add"})]})]})})}),(0,f.jsx)("div",{className:"opacity-25 fixed inset-0 z-40 bg-black"})]}):(0,f.jsx)("div",{})]}),(0,f.jsx)("main",{className:"w-3/4 px-0 sm:py-6 sm:px-0 inline-block float-right mt-0",children:function(){switch(n){case 1:return K(0);case 2:return K(1);case 3:return K(2);default:return(0,f.jsx)("h1",{children:"No option selcted"})}}()})]})}var y=(0,r.memo)(k),w=(0,r.lazy)((function(){return n.e(417).then(n.bind(n,19417))}));var N=function(){var e=[{id:1,name:"Skills"},{id:2,name:"Work Experiance"},{id:3,name:"Certificates"}],t=(0,r.useState)(1),n=(0,a.Z)(t,2),s=n[0],l=n[1];return(0,f.jsxs)("div",{className:"h-screen",children:[(0,f.jsx)("header",{className:"bg-white shadow",children:(0,f.jsx)("div",{className:"max-w-9xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:(0,f.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:e.find((function(e){return e.id===s})).name})})}),(0,f.jsxs)("div",{className:"flex mx-auto py-6 sm:px-6 lg:px-8 h-4/5",children:[(0,f.jsx)("sidebar",{className:" w-1/4 bg-gray-800 mx-auto sm:px-6 lg:px-8  float-left text-gray-300",children:e.map((function(e,t){return(0,f.jsx)("div",{className:"m-2 p-2 text-xl hover:bg-gray-300 hover:text-gray-800 w-full",onClick:function(t){l(e.id)},children:e.name},t)}))}),(0,f.jsxs)("main",{className:"w-3/4 lg:px-8 sm:px-6 mx-auto inline-block float-right h-full ",children:[(0,f.jsx)("div",{className:"border-4 border-solid border-gray-200 rounded-lg h-2/6 mx-5 mt-0 mb-1",children:(0,f.jsx)(w,{})}),(0,f.jsx)("div",{className:"border-4 border-solid border-gray-200 rounded-lg h-4/6 mx-5 mt-2",children:function(){switch(s){case 1:return(0,f.jsx)(b,{});case 2:return(0,f.jsx)(v,{});case 3:return(0,f.jsx)(y,{});default:return(0,f.jsx)("h1",{children:"No option selcted"})}}()})]})]})]})}}}]);